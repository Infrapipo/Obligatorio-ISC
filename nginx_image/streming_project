server {
    if ($host = clases.casapatera.com) {
        return 301 https://$host$request_uri;
    } # managed by Certbot


    if ($host = tags.ventura.com.uy) {
        return 301 https://$host$request_uri;
    } # managed by Certbot


    listen 80;
    server_name clases.casapatera.com;

    # Redirige todo el tráfico HTTP a HTTPS
    return 301 https://$host$request_uri;




}
server {
    listen 443 ssl;
    server_name clases.casapatera.com;
    ssl_certificate /etc/letsencrypt/live/clases.casapatera.com/fullchain.pem; # managed by Certbot
    ssl_certificate_key /etc/letsencrypt/live/clases.casapatera.com/privkey.pem; # managed by Certbot


    location /static/ {
        alias /home/juan/streaming_platform/streaming/static/;

    }

    location /media/ {
        alias /home/juan/streaming_platform/streaming/media/;

    }
    location / {
        include proxy_params;
        proxy_pass http://10.20.30.22:6969;  # Cambia el puerto si tu aplicación corre en otro puerto
    }


}
